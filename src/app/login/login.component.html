<section>
    <span class="bi bi-at"></span>


    <div class="section">

        <div class="container">

            <div class="row full-height justify-content-center">

                <div class="col-12 text-center align-self-center">

                    <div class="section pb-5 pt-5 text-center">

                        <input class="checkbox" type="checkbox" id="reg-log" name="reg-log"
                            (click)="changingColorOfSpan()" />
                        <label for="reg-log"></label>
                        <label for="lol"></label>
                        <h6 class="mb-0 pb-3"><span #signinspan>Sign In </span><span #signupspan>Sign Up</span></h6>
                        <div class="card-3d-wrap mx-auto my-0">
                            <div class="card-3d-wrapper">


                                <!-- Login form  -->
                                <form class="card-front" (ngSubmit)="loginMethod()" [formGroup]="loginFormInfo">
                                    <div class="center-wrap full-height">
                                        <div class="section text-center">
                                            <h4 class="mb-4 pb-3">Log In</h4>
                                            <div class="form-group m-auto">
                                                <input type="email" class="form-style" placeholder="Your Email"
                                                    autocomplete="off" formControlName="logemail">
                                                <i class="input-icon uil uil-at"></i>
                                                <small
                                                    *ngIf="logemail?.errors?.['required'] && logemail?.touched ">Email
                                                    is Required!</small>
                                                <small
                                                    *ngIf="logemail?.errors?.['pattern'] && (logemail?.touched || logemail?.dirty)">
                                                    Invalid email format!
                                                </small>
                                            </div>




                                            <div class="form-group m-auto mt-2">
                                                <input type="password" class="form-style" placeholder="Your Password"
                                                    autocomplete="off" formControlName="logpassword">
                                                <i class="input-icon uil uil-lock-alt"></i>
                                                <small *ngIf="logPassword?.invalid &&
                                                (logPassword?.touched || logPassword?.dirty)">Password is
                                                    Required!</small>

                                            </div>



                                            <button [disabled]="loginFormInfo.invalid" class="btn mt-4">Log-in</button>


                                            <p class="mb-0 mt-4 text-center"><a href="#0" class="link">Forgot your
                                                    password?</a></p>
                                        </div>
                                    </div>
                                </form>



                                <!-- Registration form -->
                                <form class="card-back" [formGroup]="registrationFormGroup"
                                    (ngSubmit)="onRegFormSubmit()" (ngModelChange)="onBlur($event)">

                                    <br><br>
                                    <h4 class="">Sign Up</h4>


                                    <div class="center-wrap full-height section text-center d-flex gap-5 px-5">


                                        <!-- Start First Face  -->
                                        <div class="firstFace face" #firstFace formGroupName="firstFaceGroup">

                                            <!-- First name -->
                                            <div class="form-group">
                                                <input type="text" class="form-style" placeholder="First Name"
                                                    autocomplete="off" formControlName="firstName">
                                                <i class="input-icon uil uil-user"></i>

                                                <small class="alert alert-danger" *ngIf="firstName?.errors?.['required']
                                                    && (firstName?.touched ||
                                                    firstName?.dirty)">
                                                    First name is required!
                                                </small>
                                                <small class="alert alert-danger" *ngIf="firstName?.errors?.['pattern']
                                                    && (firstName?.touched ||
                                                    firstName?.dirty)">
                                                    Only letters are allowed!
                                                </small>

                                            </div>


                                            <!-- Last name -->
                                            <div class="form-group mt-2">
                                                <input type="text" class="form-style" placeholder="Last Name"
                                                    autocomplete="off" formControlName="lastName">
                                                <i class="input-icon uil uil-user"></i>
                                                <small class="alert alert-danger" *ngIf="lastName?.errors?.['required']
                                                    && (lastName?.touched ||
                                                    lastName?.dirty)">
                                                    Lastname is required!
                                                </small>
                                                <small class="alert alert-danger" *ngIf="lastName?.errors?.['pattern']
                                                    && (lastName?.touched ||
                                                    lastName?.dirty)">
                                                    Only letters are allowed and two white space Max!
                                                </small>
                                            </div>



                                            <!-- Date Of Birth -->
                                            <div class="form-group mt-2 d-flex flex-column">
                                                <span class="position-absolute dob">Date of Birth</span>
                                                <input type="date" class="form-style" autocomplete="off"
                                                    formControlName="dateOfBirth">
                                                <i class="input-icon uil uil-calendar-alt"></i>

                                                <small class="alert alert-danger" *ngIf="dateOfBirth?.errors?.['required']
                                                    && (dateOfBirth?.touched ||
                                                    dateOfBirth?.dirty)">
                                                    Birthdate is required!
                                                </small>
                                                <small class="alert alert-danger" *ngIf="dateOfBirth?.hasError('ageInvalid')
  && (dateOfBirth?.touched || dateOfBirth?.dirty)">
                                                    Sorry, you must be at least 18 years old!
                                                </small>

                                            </div>

                                            <svg *ngIf="firstFaceGroup?.valid" class="nextArrow toSecondFace"
                                                (click)="changingFace($event)" xmlns="http://www.w3.org/2000/svg"
                                                width="16" height="16" viewBox="0 0 24 24" fill="none"
                                                stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                                stroke-linejoin="round">
                                                <path d="M5 12h14M12 5l7 7-7 7" class="nextArrow toSecondFace"
                                                    (click)="changingFace($event)" />
                                            </svg>

                                        </div>
                                        <!-- End of First Face -->




                                        <!-- Start of Second Face -->
                                        <div class="secondFace face" #secondFace formGroupName="secondFaceGroup">

                                            <!-- EMail -->
                                            <div class="form-group mt-2">
                                                <input type="email" class="form-style" placeholder="Your Email"
                                                    autocomplete="off" formControlName="email">
                                                <i class="input-icon uil uil-at"></i>
                                                <small class="alert alert-danger"
                                                    *ngIf="email?.errors?.['required'] && (email?.touched || email?.dirty) ">Email
                                                    is Required!</small>
                                                <small class="alert alert-danger"
                                                    *ngIf="email?.errors?.['pattern'] && (email?.touched || email?.dirty)">
                                                    Invalid email format!
                                                </small>
                                            </div>



                                            <!-- Password -->
                                            <div class="form-group mt-2">
                                                <input type="password" class="form-style" placeholder="Your Password"
                                                    autocomplete="off" formControlName="password">


                                                <i class="input-icon uil uil-lock-alt"></i>
                                                <small class="alert alert-danger"
                                                    *ngIf="password?.errors?.['pattern'] && (password?.touched || password?.dirty)">
                                                    At Least one LowerCase,UpperCase,SpaecialCharacter
                                                    ,Number(total of 8 characters)
                                                </small>
                                                <small class="alert alert-danger"
                                                    *ngIf="password?.errors?.['required'] && password?.touched">
                                                    Password Required!
                                                </small>

                                                <small *ngIf="secondFaceGroup?.hasError('doesntMatchError')"
                                                    class="alert alert-danger">
                                                    Password doesn't match!
                                                </small>


                                            </div>


                                            <!-- Confirmed Password -->
                                            <div class="form-group mt-2">
                                                <input type="password" class="form-style"
                                                    placeholder="Confirmed Password" autocomplete="off"
                                                    formControlName="confPassword">
                                                <i class="input-icon uil uil-lock-alt"></i>

                                            </div>
                                            <small class="alert alert-danger"
                                                *ngIf="confPassword?.errors?.['pattern'] && (confPassword?.touched || confPassword?.dirty)">
                                                At Least one LowerCase,UpperCase,SpaecialCharacter
                                                ,Number(total of 8 characters)
                                            </small>
                                            <small class="alert alert-danger"
                                                *ngIf="confPassword?.errors?.['required'] && (confPassword?.touched || confPassword?.dirty)">
                                                Password Required!
                                            </small>

                                            <svg *ngIf="secondFaceGroup?.valid" (click)="changingFace($event)"
                                                class='nextArrow toThirdFace' xmlns="http://www.w3.org/2000/svg"
                                                width="16" height="16" viewBox="0 0 24 24" fill="none"
                                                stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                                stroke-linejoin="round">
                                                <path d="M5 12h14M12 5l7 7-7 7" (click)="changingFace($event)"
                                                    class='nextArrow toThirdFace' />
                                            </svg>

                                            <svg (click)="changingFace($event)" class="previousArrow toFirstFace"
                                                xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                                stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M19 12H5M12 19L5 12l7-7" (click)="changingFace($event)"
                                                    class="previousArrow toFirstFace" />
                                            </svg>

                                        </div>
                                        <!-- End of Second Face  -->

                                        <!-- Start of Third Face -->
                                        <div class="thirdFace face" #thirdFace formGroupName="thirdFaceGroup">
                                            <!-- Full Address -->
                                            <div class="form-group mt-2 d-flex align-items-start flex-column gap-3">

                                                <div>
                                                    <span>Post Code:</span>

                                                    <input class="form-style p-0 text-center" type="text"
                                                        placeholder="Post Code" autocomplete="off"
                                                        formControlName="postCode" required>
                                                    <small class="alert alert-danger" *ngIf="postCode?.invalid">
                                                        A post code of 5 numbers is required
                                                    </small>

                                                </div>





                                                <div *ngIf="postCode?.valid" class="d-flex flex-row w-100">


                                                    <div class="w-25 text-start">
                                                        <span>Building Number:</span><br>
                                                        <input type="text" name="buildingnumber" placeholder="Bld. №"
                                                            class="form-style p-0 text-center"
                                                            formControlName="buildingNumber" required><br>
                                                    </div>


                                                    <div *ngIf="buildingNumber?.valid" class="w-75">
                                                        <span>Full Address:</span>

                                                        <input class="form-style p-0 text-center" #input type="text"
                                                            placeholder="Street Name" autocomplete="off"
                                                            formControlName="street" required>


                                                        <div *ngIf="displaySuggestions" class="addressResults"
                                                            #addressResults>

                                                            <div class="suggestions" #suggestions
                                                                *ngFor="let address of features"
                                                                (click)="selectaddress($event)">
                                                                {{address.properties.street}},
                                                                {{address.properties.city}},{{address.properties.postcode}},
                                                                {{address.properties.context}}
                                                            </div>

                                                        </div>

                                                    </div>
                                                </div>


                                            </div>



                                            <!-- Gender -->

                                            <div class="form-group d-flex justify-start gap-5 my-3">
                                                <label for="gender" id="gender"
                                                    class=" align-self-start">Gender:</label>
                                                <div>
                                                    <input type="radio" name="gender" value="male"
                                                        formControlName="gender" #gender required>
                                                    <span> Male</span>
                                                </div>
                                                <div>
                                                    <input type="radio" name="gender" value="female"
                                                        formControlName="gender" #gender>
                                                    <span> Female</span>
                                                </div>
                                            </div>



                                            <button class="btn" [disabled]="!registrationFormGroup.valid"
                                                #submitButton>Submit
                                            </button>
                                            <svg class=" previousArrow toSecondFace" (click)=" changingFace($event)"
                                                xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                                stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M19 12H5M12 19L5 12l7-7" class="previousArrow toSecondFace"
                                                    (click)=" changingFace($event)" />
                                            </svg>

                                        </div>
                                        <!-- End of Third Face  -->


                                    </div>

                                </form>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <hr>

</section>