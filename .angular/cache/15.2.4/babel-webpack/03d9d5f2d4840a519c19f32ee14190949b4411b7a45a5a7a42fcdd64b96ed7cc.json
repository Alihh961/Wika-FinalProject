{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../services/logged-in-user.service\";\nimport * as i3 from \"../services/eth.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../filter/filter.component\";\nimport * as i6 from \"../search/search.component\";\nfunction GalleryComponent_ng_container_4_ng_container_1_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1, \"X\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GalleryComponent_ng_container_4_ng_container_1_div_1_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"a\", 16);\n    i0.ɵɵelement(2, \"input\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 16);\n    i0.ɵɵelement(4, \"input\", 18);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction GalleryComponent_ng_container_4_ng_container_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtemplate(1, GalleryComponent_ng_container_4_ng_container_1_div_1_div_1_Template, 2, 0, \"div\", 8);\n    i0.ɵɵelement(2, \"img\", 9);\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h5\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 10)(8, \"div\", 11)(9, \"h4\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"img\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"h5\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(14, GalleryComponent_ng_container_4_ng_container_1_div_1_div_14_Template, 5, 0, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const token_r1 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.isAdmin);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", token_r1.source, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(token_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Product created by \", token_r1.creatorname, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(token_r1.price);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(token_r1.creationdate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.isAdmin);\n  }\n}\nfunction GalleryComponent_ng_container_4_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, GalleryComponent_ng_container_4_ng_container_1_div_1_Template, 15, 7, \"div\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const token_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.searchInputValue === \"\" || token_r1.title.toLowerCase().includes(ctx_r2.searchInputValue.toLowerCase()));\n  }\n}\nfunction GalleryComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, GalleryComponent_ng_container_4_ng_container_1_Template, 2, 1, \"ng-container\", 5);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const token_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedRadioButton === \"all\" || ctx_r0.selectedRadioButton === token_r1.type);\n  }\n}\nexport class GalleryComponent {\n  constructor(http, loggedInUserServiceInstance, ETHServiceInstance) {\n    this.http = http;\n    this.loggedInUserServiceInstance = loggedInUserServiceInstance;\n    this.ETHServiceInstance = ETHServiceInstance;\n    //* Calling tokens to display in Gallery view template \n    this.tokens = [];\n    this.searchInputValue = '';\n    this.isAdmin = false;\n    // checked radio button is all by default\n    this.selectedRadioButton = \"all\";\n  }\n  ngOnInit() {\n    this.http.get('http://localhost/test/gallerytokens.php?order=' + this.selectedRadioButton).subscribe(data => {\n      this.tokens = data;\n    }, error => {\n      console.error(error);\n    });\n    this.loggedInUserServiceInstance.getLoggedInUserInfo().subscribe(info => {\n      this.isAdmin = info.isAdmin;\n    });\n    this.setETHPrice();\n    // this.ETHPrice = this.ETHServiceInstance.ETHPrice;\n  }\n\n  onSearchTextEntered(searchValue) {\n    this.searchInputValue = searchValue;\n  }\n  // displaying the qty of each filter option\n  getAllTokensQty() {\n    return this.tokens.length;\n  }\n  getTransferableTokensQty() {\n    return this.tokens.filter(token => token.type === \"transferable\").length;\n  }\n  getNonTransferableTokensQty() {\n    return this.tokens.filter(token => token.type === \"non-transferable\").length;\n  }\n  // filtering results when the radio button is changed\n  onFilterSelectionChanged(data) {\n    this.selectedRadioButton = data;\n  }\n  setETHPrice() {\n    this.ETHServiceInstance.getETHPrice().subscribe(data => {\n      this.ETHServiceInstance.setETHPrice(data[\"EUR\"]);\n      this.ETHPrice = data[\"EUR\"];\n    });\n  }\n}\nGalleryComponent.ɵfac = function GalleryComponent_Factory(t) {\n  return new (t || GalleryComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.LoggedInUserService), i0.ɵɵdirectiveInject(i3.ETHService));\n};\nGalleryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GalleryComponent,\n  selectors: [[\"app-gallery\"]],\n  decls: 5,\n  vars: 4,\n  consts: [[1, \"searchFilterDiv\"], [3, \"searchInputValueEvent\"], [3, \"all\", \"transferable\", \"non_transferable\", \"filterSelectionChangedEvent\"], [1, \"homePageGallery\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"class\", \"product-accueil\", \"appHighlight\", \"\", 4, \"ngIf\"], [\"appHighlight\", \"\", 1, \"product-accueil\"], [\"class\", \"deleteNFT\", 4, \"ngIf\"], [3, \"src\"], [1, \"info\"], [1, \"price\"], [\"src\", \"../../assets/imgs/Ethereum.png\", \"alt\", \"ETH\"], [\"class\", \"buttons\", 4, \"ngIf\"], [1, \"deleteNFT\"], [1, \"buttons\"], [\"href\", \"\"], [\"type\", \"button\", \"value\", \"Add To Carte\"], [\"type\", \"button\", \"value\", \"View\"]],\n  template: function GalleryComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"app-search\", 1);\n      i0.ɵɵlistener(\"searchInputValueEvent\", function GalleryComponent_Template_app_search_searchInputValueEvent_1_listener($event) {\n        return ctx.onSearchTextEntered($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"app-filter\", 2);\n      i0.ɵɵlistener(\"filterSelectionChangedEvent\", function GalleryComponent_Template_app_filter_filterSelectionChangedEvent_2_listener($event) {\n        return ctx.onFilterSelectionChanged($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(3, \"section\", 3);\n      i0.ɵɵtemplate(4, GalleryComponent_ng_container_4_Template, 2, 1, \"ng-container\", 4);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"all\", ctx.getAllTokensQty())(\"transferable\", ctx.getTransferableTokensQty())(\"non_transferable\", ctx.getNonTransferableTokensQty());\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.tokens);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.FilterComponent, i6.SearchComponent],\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 494:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/sass-loader/dist/cjs.js):\\\\nSassError: expected \\\\\\\"{\\\\\\\".\\\\n    \\u2577\\\\n250 \\u2502             font-size\\\\r\\\\n    \\u2502                      ^\\\\n    \\u2575\\\\n  src\\\\\\\\app\\\\\\\\gallery\\\\\\\\gallery.component.scss 250:22  root stylesheet\\\");\\n\\n })\\n\\n \\t});\\n\\n \\t\\n \\t// startup\\n \\t// Load entry module and return exports\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n \\tvar __webpack_exports__ = {};\\n \\t__webpack_modules__[494]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\"]\n});","map":{"version":3,"mappings":"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","names":["i0","GalleryComponent","constructor","http","loggedInUserServiceInstance","ETHServiceInstance","ngOnInit","get","selectedRadioButton","subscribe","data","tokens","error","console","getLoggedInUserInfo","info","isAdmin","setETHPrice","onSearchTextEntered","searchValue","searchInputValue","getAllTokensQty","length","getTransferableTokensQty","filter","token","type","getNonTransferableTokensQty","onFilterSelectionChanged","getETHPrice","ETHPrice","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\hajha\\OneDrive\\Desktop\\Wika\\src\\app\\gallery\\gallery.component.html","C:\\Users\\hajha\\OneDrive\\Desktop\\Wika\\src\\app\\gallery\\gallery.component.ts"],"sourcesContent":["<div class=\"searchFilterDiv\">\r\n\r\n    <app-search (searchInputValueEvent)=\"onSearchTextEntered($event)\"></app-search>\r\n    <app-filter [all]=\"getAllTokensQty()\" [transferable]=\"getTransferableTokensQty()\"\r\n        [non_transferable]=\"getNonTransferableTokensQty()\"\r\n        (filterSelectionChangedEvent)=\"onFilterSelectionChanged($event)\"></app-filter>\r\n\r\n</div>\r\n\r\n<section class=\"homePageGallery\">\r\n\r\n    <ng-container *ngFor=\"let token of tokens\">\r\n        <ng-container *ngIf=\"selectedRadioButton === 'all' || selectedRadioButton === token.type \">\r\n            <div class=\"product-accueil\" appHighlight\r\n                *ngIf=\"searchInputValue === '' || token.title.toLowerCase().includes(searchInputValue.toLowerCase())\">\r\n                <div *ngIf=\"isAdmin\" class=\"deleteNFT\">X</div>\r\n                <img [src]=\"token.source\">\r\n\r\n                <h3>{{token.title}}</h3>\r\n                <h5>Product created by {{token.creatorname}}</h5>\r\n                <div class=\"info\">\r\n                    <div class=\"price\">\r\n                        <h4>{{token.price}}</h4>\r\n                        <img src=\"../../assets/imgs/Ethereum.png\" alt=\"ETH\">\r\n                    </div>\r\n                    <h5>{{token.creationdate}}</h5>\r\n                </div>\r\n                <div class=\"buttons\" *ngIf=\"!isAdmin\">\r\n                    <a href=\"\"><input type=\"button\" value=\"Add To Carte\"></a>\r\n                    <a href=\"\"><input type=\"button\" value=\"View\"></a>\r\n                </div>\r\n\r\n            </div>\r\n\r\n\r\n\r\n\r\n        </ng-container>\r\n    </ng-container>\r\n\r\n</section>","import { Component, OnInit } from '@angular/core';\r\nimport { Itoken } from '../Interface/Itoken';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { LoggedInUserService } from '../services/logged-in-user.service';\r\nimport { ETHService } from '../services/eth.service';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-gallery',\r\n  templateUrl: './gallery.component.html',\r\n  styleUrls: ['./gallery.component.scss']\r\n})\r\nexport class GalleryComponent implements OnInit {\r\n\r\n  constructor(private http: HttpClient, private loggedInUserServiceInstance: LoggedInUserService,\r\n    private ETHServiceInstance: ETHService) { }\r\n\r\n\r\n  //* Calling tokens to display in Gallery view template \r\n\r\n  tokens: Array<Itoken> = [];\r\n  searchInputValue: string = '';\r\n  isAdmin: boolean = false;\r\n  ETHPrice!: number;\r\n\r\n  // checked radio button is all by default\r\n  selectedRadioButton: string = \"all\";\r\n\r\n  ngOnInit() {\r\n\r\n    this.http.get<any[]>('http://localhost/test/gallerytokens.php?order=' + this.selectedRadioButton).subscribe(\r\n      data => {\r\n        this.tokens = data;\r\n      },\r\n      error => {\r\n        console.error(error);\r\n      }\r\n    );\r\n\r\n    this.loggedInUserServiceInstance.getLoggedInUserInfo().subscribe(info => {\r\n      this.isAdmin = info.isAdmin;\r\n    });\r\n    this.setETHPrice();\r\n    // this.ETHPrice = this.ETHServiceInstance.ETHPrice;\r\n  }\r\n\r\n\r\n\r\n  onSearchTextEntered(searchValue: string) {\r\n    this.searchInputValue = searchValue;\r\n  }\r\n\r\n\r\n\r\n\r\n  // displaying the qty of each filter option\r\n  getAllTokensQty() {\r\n    return this.tokens.length;\r\n  }\r\n\r\n  getTransferableTokensQty() {\r\n    return this.tokens.filter(token => token.type === \"transferable\").length;\r\n  }\r\n\r\n  getNonTransferableTokensQty() {\r\n    return this.tokens.filter(token => token.type === \"non-transferable\").length;\r\n  }\r\n\r\n\r\n  // filtering results when the radio button is changed\r\n  onFilterSelectionChanged(data: string) {\r\n\r\n    this.selectedRadioButton = data;\r\n\r\n  }\r\n\r\n  setETHPrice() {\r\n    this.ETHServiceInstance.getETHPrice().subscribe(data => {\r\n      this.ETHServiceInstance.setETHPrice(data[\"EUR\"]);\r\n      this.ETHPrice = data[\"EUR\"];\r\n    })\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}