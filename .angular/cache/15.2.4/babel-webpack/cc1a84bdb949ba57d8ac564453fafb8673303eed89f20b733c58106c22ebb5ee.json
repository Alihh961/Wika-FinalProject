{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild, HostListener } from '@angular/core';\nlet HeaderComponent = class HeaderComponent {\n  constructor(loggedInUserInstance, cookieService, authService, router) {\n    this.loggedInUserInstance = loggedInUserInstance;\n    this.cookieService = cookieService;\n    this.authService = authService;\n    this.router = router;\n    this.logoSource = './assets/imgs/WIKA_Logo.png';\n    this.isOpened = false;\n    this.isLoggedIn = false;\n    this.dropDownMenuStatus = false;\n  }\n  ngOnInit() {\n    this.loggedInUserInstance.getLoggedInStatus().subscribe(booleanValue => {\n      this.isLoggedIn = booleanValue;\n    });\n    this.loggedInUserInstance.getLoggedInUserInfo().subscribe(userInfo => {\n      this.loggedInUserInfo = userInfo;\n    });\n    this.setLoggedInValue();\n    const token = this.cookieService.get(\"token\");\n    if (token) {\n      this.authService.getDataOfUser(token).subscribe(data => {\n        this.loggedInUserInstance.setLoggedInUserInfo(data);\n        console.log(data);\n      });\n    }\n    console.log(this.loggedInUserInstance.getLoggedInStatus());\n  }\n  //* Setting the isLoggedInStatus to true if token exists\n  setLoggedInValue() {\n    if (this.cookieService.check(\"token\")) {\n      this.loggedInUserInstance.setLoggedInStatus(true);\n    }\n  }\n  ngAfterViewChecked() {}\n  onWindowScroll() {\n    const headerElement = this.header.nativeElement;\n    if (window.scrollY !== 0) {\n      headerElement.classList.add(\"onScroll\");\n    } else {\n      headerElement.classList.remove(\"onScroll\");\n    }\n  }\n  openAndCloseMenuBurger() {\n    this.isOpened = !this.isOpened;\n  }\n  toggleDropMenu() {\n    this.dropDownMenuStatus = !this.dropDownMenuStatus;\n  }\n  logout() {\n    this.loggedInUserInstance.setLoggedInStatus(false);\n    this.cookieService.delete(\"token\");\n    this.router.navigate([\"/home\"]);\n  }\n};\n__decorate([ViewChild('header')], HeaderComponent.prototype, \"header\", void 0);\n__decorate([ViewChild('dropDownMenu')], HeaderComponent.prototype, \"dropDownMenu\", void 0);\n__decorate([HostListener('window:scroll') // listen to the scroll event;\n], HeaderComponent.prototype, \"onWindowScroll\", null);\nHeaderComponent = __decorate([Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})], HeaderComponent);\nexport { HeaderComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,EAAcC,SAAS,EAAmCC,YAAY,QAAiC,eAAe;AAejI,IAAMC,eAAe,GAArB,MAAMA,eAAe;EAE1BC,YAAoBC,oBAAyC,EAAUC,aAA4B,EACzFC,WAAkC,EAAWC,MAAc;IADjD,yBAAoB,GAApBH,oBAAoB;IAA+B,kBAAa,GAAbC,aAAa;IAC1E,gBAAW,GAAXC,WAAW;IAAkC,WAAM,GAANC,MAAM;IAO7D,eAAU,GAAW,6BAA6B;IAClD,aAAQ,GAAY,KAAK;IACzB,eAAU,GAAY,KAAK;IAE3B,uBAAkB,GAAY,KAAK;EAXsC;EAkBzEC,QAAQ;IAEN,IAAI,CAACJ,oBAAoB,CAACK,iBAAiB,EAAE,CAACC,SAAS,CAACC,YAAY,IAAG;MACrE,IAAI,CAACC,UAAU,GAAGD,YAAY;IAChC,CAAC,CAAC;IAEF,IAAI,CAACP,oBAAoB,CAACS,mBAAmB,EAAE,CAACH,SAAS,CAACI,QAAQ,IAAG;MACnE,IAAI,CAACC,gBAAgB,GAAGD,QAAQ;IAClC,CAAC,CAAC;IAEF,IAAI,CAACE,gBAAgB,EAAE;IACvB,MAAMC,KAAK,GAAG,IAAI,CAACZ,aAAa,CAACa,GAAG,CAAC,OAAO,CAAC;IAC7C,IAAID,KAAK,EAAE;MACT,IAAI,CAACX,WAAW,CAACa,aAAa,CAACF,KAAK,CAAC,CAACP,SAAS,CAACU,IAAI,IAAG;QACrD,IAAI,CAAChB,oBAAoB,CAACiB,mBAAmB,CAACD,IAAI,CAAC;QACnDE,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;MACnB,CAAC,CAAC;;IAEJE,OAAO,CAACC,GAAG,CAAC,IAAI,CAACnB,oBAAoB,CAACK,iBAAiB,EAAE,CAAC;EAC5D;EAEA;EAGAO,gBAAgB;IACd,IAAI,IAAI,CAACX,aAAa,CAACmB,KAAK,CAAC,OAAO,CAAC,EAAE;MACrC,IAAI,CAACpB,oBAAoB,CAACqB,iBAAiB,CAAC,IAAI,CAAC;;EAErD;EACAC,kBAAkB,IAElB;EAIAC,cAAc;IACZ,MAAMC,aAAa,GAAG,IAAI,CAACC,MAAM,CAACC,aAAa;IAC/C,IAAIC,MAAM,CAACC,OAAO,KAAK,CAAC,EAAE;MAExBJ,aAAa,CAACK,SAAS,CAACC,GAAG,CAAC,UAAU,CAAC;KAExC,MAAM;MACLN,aAAa,CAACK,SAAS,CAACE,MAAM,CAAC,UAAU,CAAC;;EAE9C;EACAC,sBAAsB;IAEpB,IAAI,CAACC,QAAQ,GAAG,CAAC,IAAI,CAACA,QAAQ;EAEhC;EAEAC,cAAc;IACZ,IAAI,CAACC,kBAAkB,GAAG,CAAC,IAAI,CAACA,kBAAkB;EACpD;EAEAC,MAAM;IACJ,IAAI,CAACpC,oBAAoB,CAACqB,iBAAiB,CAAC,KAAK,CAAC;IAClD,IAAI,CAACpB,aAAa,CAACoC,MAAM,CAAC,OAAO,CAAC;IAClC,IAAI,CAAClC,MAAM,CAACmC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;EAEjC;CAED;AA7EsBC,YAApB3C,SAAS,CAAC,QAAQ,CAAC,+CAAqB;AACd2C,YAA1B3C,SAAS,CAAC,cAAc,CAAC,qDAA2B;AAiDrD2C,YAFC1C,YAAY,CAAC,eAAe,CAAC;AAAA,qDAW7B;AAjEUC,eAAe,eAN3BH,SAAS,CAAC;EACT6C,QAAQ,EAAE,YAAY;EACtBC,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,yBAAyB;CAEtC,CAAC,GACW5C,eAAe,CAmF3B;SAnFYA,eAAe","names":["Component","ViewChild","HostListener","HeaderComponent","constructor","loggedInUserInstance","cookieService","authService","router","ngOnInit","getLoggedInStatus","subscribe","booleanValue","isLoggedIn","getLoggedInUserInfo","userInfo","loggedInUserInfo","setLoggedInValue","token","get","getDataOfUser","data","setLoggedInUserInfo","console","log","check","setLoggedInStatus","ngAfterViewChecked","onWindowScroll","headerElement","header","nativeElement","window","scrollY","classList","add","remove","openAndCloseMenuBurger","isOpened","toggleDropMenu","dropDownMenuStatus","logout","delete","navigate","__decorate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\hajha\\OneDrive\\Desktop\\Wika\\src\\app\\header\\header.component.ts"],"sourcesContent":["import { Component, ElementRef, ViewChild, AfterViewInit, asNativeElements, HostListener, Input, AfterViewChecked } from '@angular/core';\r\nimport { LoggedInUserService } from '../services/logged-in-user.service';\r\nimport { loggedInUserInfo } from '../Interface/userdetails';\r\nimport { CookieService } from 'ngx-cookie-service';\r\nimport { AuthenticationService } from '../services/authentication.service';\r\nimport { Router } from '@angular/router';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.scss'],\r\n\r\n})\r\nexport class HeaderComponent implements AfterViewChecked {\r\n\r\n  constructor(private loggedInUserInstance: LoggedInUserService, private cookieService: CookieService,\r\n    private authService: AuthenticationService , private router :Router) { }\r\n\r\n\r\n  @ViewChild('header') header!: ElementRef; // getting header tag from view template\r\n  @ViewChild('dropDownMenu') dropDownMenu!: ElementRef; \r\n\r\n\r\n  logoSource: string = './assets/imgs/WIKA_Logo.png';\r\n  isOpened: boolean = false;\r\n  isLoggedIn: boolean = false;\r\n  loggedInUserInfo!: loggedInUserInfo;\r\n  dropDownMenuStatus: boolean = false;\r\n\r\n\r\n\r\n\r\n\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.loggedInUserInstance.getLoggedInStatus().subscribe(booleanValue => {\r\n      this.isLoggedIn = booleanValue;\r\n    })\r\n\r\n    this.loggedInUserInstance.getLoggedInUserInfo().subscribe(userInfo => {\r\n      this.loggedInUserInfo = userInfo;\r\n    })\r\n\r\n    this.setLoggedInValue();\r\n    const token = this.cookieService.get(\"token\");\r\n    if (token) {\r\n      this.authService.getDataOfUser(token).subscribe(data => {\r\n        this.loggedInUserInstance.setLoggedInUserInfo(data);\r\n        console.log(data);\r\n      });\r\n    }\r\n    console.log(this.loggedInUserInstance.getLoggedInStatus());\r\n  }\r\n\r\n  //* Setting the isLoggedInStatus to true if token exists\r\n\r\n\r\n  setLoggedInValue(): void {\r\n    if (this.cookieService.check(\"token\")) {\r\n      this.loggedInUserInstance.setLoggedInStatus(true);\r\n    }\r\n  }\r\n  ngAfterViewChecked() {\r\n\r\n  }\r\n\r\n  @HostListener('window:scroll')// listen to the scroll event;\r\n\r\n  onWindowScroll() {\r\n    const headerElement = this.header.nativeElement;\r\n    if (window.scrollY !== 0) {\r\n\r\n      headerElement.classList.add(\"onScroll\");\r\n\r\n    } else {\r\n      headerElement.classList.remove(\"onScroll\");\r\n    }\r\n  }\r\n  openAndCloseMenuBurger() {\r\n\r\n    this.isOpened = !this.isOpened;\r\n\r\n  }\r\n\r\n  toggleDropMenu(){\r\n    this.dropDownMenuStatus = !this.dropDownMenuStatus;\r\n  }\r\n\r\n  logout() {\r\n    this.loggedInUserInstance.setLoggedInStatus(false);\r\n    this.cookieService.delete(\"token\");\r\n    this.router.navigate([\"/home\"]);\r\n\r\n  }\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}